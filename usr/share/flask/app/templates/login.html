{% extends "base.html" %}

{% block content %}

<style type="text/css">
  body {
    padding-top: 40px;
    padding-bottom: 40px;
    background-color: #f5f5f5;
  }

  .form-signin {
    max-width: 300px;
    padding: 19px 29px 29px;
    margin: 0 auto 20px;
    background-color: #fff;
    border: 1px solid #e5e5e5;
    -webkit-border-radius: 5px;
       -moz-border-radius: 5px;
            border-radius: 5px;
    -webkit-box-shadow: 0 1px 2px rgba(0,0,0,.05);
       -moz-box-shadow: 0 1px 2px rgba(0,0,0,.05);
            box-shadow: 0 1px 2px rgba(0,0,0,.05);
  }
  .form-signin .form-signin-heading {
    margin-top: 20px;
    font-size: 16px;
    line-height: normal;
    margin-bottom: 0px;
  }
  .form-signin .form-signin-heading small {
      font-size: 12px;
    }
  .form-signin input[type="text"],
  .form-signin input[type="password"] {
    font-size: 16px;
    height: auto;
    margin-bottom: 15px;
    padding: 7px 9px;
  }
</style>
<script type="text/javascript" charset="utf-8">
    $('#login_form').submit(function(event)
    {
        event.preventDefault();
        var self = this;

        function showFormError(msg)
        {
            $(self).find('input[type="submit"]').button('reset');
            $('#login_form_errors').html(msg).show();
        }

        function hideFormErrors()
        {
            $('#login_form_errors').hide();
            $('#login_form .error').removeClass('error');
        }

        hideFormErrors();

        if (!$('#username').val().length)
        {
            $('#username').focus().parent('.control-group').addClass('error');
            showFormError('Please enter your username.');
            return;
        }

        if (!$('#passwd').val().length)
        {
            $('#passwd').focus().parent('.control-group').addClass('error');
            showFormError('Please enter your password.');
            return;
        }

        App.onFailure = function()
        {
            showFormError('The username or password you entered is incorrect.');
        };

        $(this).find('input[type="submit"]').button('loading');

        App.send(this);
    });
</script>

<form class="form-signin" id="login_form" action="/login" method="POST">
    <input id="do" name="do" value="login" type="hidden" />
    <div class="text-center">
        <img src="/static/img/logo.png" alt="Shape Up" width="140" height="30" />
        <h2 class="form-signin-heading">QA Manager<span class="muted"><small>    v0.5 beta</small></span></h2>
    </div>
    <hr />

    <div class="form-group">
        <input name="username" id="username" value="" type="text" class="input-block-level form-control" placeholder="Username">
    </div>
    <div class="form-group">
        <input name="password" id="passwd" type="password" class="input-block-level form-control" placeholder="Password" autocomplete="off">
    </div>
    <input class="btn btn-large btn-primary btn-block" type="submit" value="Login" data-loading-text="Logging in..." />


</form>


{% endblock %}
